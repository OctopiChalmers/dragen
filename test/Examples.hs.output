dragen-0.1.0.0: unregistering (local file changes: test/Examples.hs)
dragen-0.1.0.0: build (lib + test)
Preprocessing library for dragen-0.1.0.0..
Building library for dragen-0.1.0.0..
ignoring (possibly broken) abi-depends field for packages
Preprocessing test suite 'examples' for dragen-0.1.0.0..
Building test suite 'examples' for dragen-0.1.0.0..
[1 of 2] Compiling Examples         ( test/Examples.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/examples/examples-tmp/Examples.o )

Reifiying: Examples.Tree

Types involved with Examples.Tree:
[Base Examples.Tree]

Initial frequencies map:
 * (Examples.LeafA,100)
 * (Examples.LeafB,100)
 * (Examples.LeafC,100)
 * (Examples.Node,100)

Predicted distribution for the initial frequencies map:
 * (Examples.LeafA,0.4998372395833333)
 * (Examples.LeafB,0.4998372395833333)
 * (Examples.LeafC,0.4998372395833333)
 * (Examples.Node,0.49951171875)

Optimizing the frequencies map:
******************************************

Optimized frequencies map:
 * (Examples.LeafA,113)
 * (Examples.LeafB,113)
 * (Examples.LeafC,112)
 * (Examples.Node,497)

Predicted distribution for the optimized frequencies map:
 * (Examples.LeafA,5.261312269824188)
 * (Examples.LeafB,5.261312269824188)
 * (Examples.LeafC,5.214751984250523)
 * (Examples.Node,14.737376523898902)

Initial cost: 36.101855500539145
Final cost: 9.025165770966032
Optimization ratio: 4.000132121304503

Deriving optimized generator...
Visiting:Examples.Tree

Reifiying: Examples.T1

Types involved with Examples.T1:
[Base Examples.T1,Base Examples.T2]

Initial frequencies map:
 * (Examples.A,100)
 * (Examples.B,100)
 * (Examples.C,100)
 * (Examples.D,100)

Predicted distribution for the initial frequencies map:
 * (Examples.A,1.859375)
 * (Examples.B,1.7724609375)
 * (Examples.C,0.9130859375)
 * (Examples.D,0.859375)

Optimizing the frequencies map:
****************************************************************************************************************************************

Optimized frequencies map:
 * (Examples.A,70)
 * (Examples.B,214)
 * (Examples.C,90)
 * (Examples.D,199)

Predicted distribution for the optimized frequencies map:
 * (Examples.A,8.650325226111388)
 * (Examples.B,13.742023884162)
 * (Examples.C,6.091698658050614)
 * (Examples.D,7.650325226111388)

Initial cost: 30.008520698547365
Final cost: 3.662015566744201
Optimization ratio: 8.194536629244077

Deriving optimized generator...
Visiting:Examples.T1
Visiting:Examples.T2

Reifiying: Examples.Rose

Types involved with Examples.Rose:
[Base Examples.Rose,App (Base GHC.Base.Maybe) (Base GHC.Types.Bool),Base GHC.Types.Bool,App (Base GHC.Types.[]) (Base Examples.Rose)]

Initial frequencies map:
 * (GHC.Base.Just,100)
 * (GHC.Base.Nothing,100)
 * (GHC.Types.:,100)
 * (GHC.Types.False,100)
 * (GHC.Types.True,100)
 * (GHC.Types.[],100)
 * (Examples.RLeaf,100)
 * (Examples.RNode,100)

Predicted distribution for the initial frequencies map:
 * (GHC.Base.Just,0.47314453125)
 * (GHC.Base.Nothing,0.47314453125)
 * (GHC.Types.:,0.859375)
 * (GHC.Types.False,0.236572265625)
 * (GHC.Types.True,0.236572265625)
 * (GHC.Types.[],0.9130859375)
 * (Examples.RLeaf,0.9462890625)
 * (Examples.RNode,0.9130859375)

Optimizing the frequencies map:
***************************************************************************************************

Optimized frequencies map:
 * (GHC.Base.Just,302)
 * (GHC.Base.Nothing,95)
 * (GHC.Types.:,415)
 * (GHC.Types.False,100)
 * (GHC.Types.True,100)
 * (GHC.Types.[],2)
 * (Examples.RLeaf,100)
 * (Examples.RNode,101)

Predicted distribution for the optimized frequencies map:
 * (GHC.Base.Just,8.43227331046645)
 * (GHC.Base.Nothing,2.6525363062725584)
 * (GHC.Types.:,16.560942455364646)
 * (GHC.Types.False,4.216136655233225)
 * (GHC.Types.True,4.216136655233225)
 * (GHC.Types.[],6.476132838625638)
 * (Examples.RLeaf,11.084809616739008)
 * (Examples.RNode,6.47613283862564)

Initial cost: 70.2835713982582
Final cost: 19.240719743479303
Optimization ratio: 3.6528556278190876

Deriving optimized generator...
Visiting:Examples.Rose

Reifiying: Examples.Tree'

Types involved with Examples.Tree':
[Base Examples.Tree']

Initial frequencies map:
 * (Examples.Leaf,100)
 * (Examples.NodeA,100)
 * (Examples.NodeB,100)

Predicted distribution for the initial frequencies map:
 * (Examples.Leaf,34.51545326762519)
 * (Examples.NodeA,16.757726633812595)
 * (Examples.NodeB,16.757726633812595)

Optimizing the frequencies map:
*************************************************************************

Optimized frequencies map:
 * (Examples.Leaf,60)
 * (Examples.NodeA,98)
 * (Examples.NodeB,31)

Predicted distribution for the optimized frequencies map:
 * (Examples.Leaf,41.13723849786045)
 * (Examples.NodeA,30.491855603025765)
 * (Examples.NodeB,9.64538289483468)

Initial cost: 10.41194705589522
Final cost: 2.0639393601844427e-2
Optimization ratio: 504.4696204138848

Deriving optimized generator...
Visiting:Examples.Tree'

Reifiying: Examples.Expr

Types involved with Examples.Expr:
[Base Examples.Expr,Base GHC.Types.Char]

Initial frequencies map:
 * (Examples.App,100)
 * (Examples.Lam,100)
 * (Examples.Var,100)
 * (GHC.Types.Char,100)

Predicted distribution for the initial frequencies map:
 * (Examples.App,3.333333333333333)
 * (Examples.Lam,3.333333333333333)
 * (Examples.Var,4.333333333333333)
 * (GHC.Types.Char,7.666666666666666)

Optimizing the frequencies map:
*****************************************************

Optimized frequencies map:
 * (Examples.App,200)
 * (Examples.Lam,69)
 * (Examples.Var,82)
 * (GHC.Types.Char,199)

Predicted distribution for the optimized frequencies map:
 * (Examples.App,29.052261952579133)
 * (Examples.Lam,10.0230303736398)
 * (Examples.Var,30.05226195257913)
 * (GHC.Types.Char,40.07529232621893)

Initial cost: 26.403703703703705
Final cost: 1.4408353391165505e-4
Optimization ratio: 183252.7491995939

Deriving optimized generator...
Visiting:Examples.Expr

Reifiying: Examples.Lisp

Types involved with Examples.Lisp:
[Base Examples.Lisp,Base Examples.Text,Base GHC.Types.Int,App (Base GHC.Types.[]) (Base Examples.Lisp)]

Initial frequencies map:
 * (GHC.Types.:,100)
 * (GHC.Types.[],100)
 * (Examples.List,100)
 * (Examples.Number,100)
 * (Examples.String,100)
 * (Examples.Symbol,100)
 * (Examples.Text,100)
 * (GHC.Types.Int,100)

Predicted distribution for the initial frequencies map:
 * (GHC.Types.:,0.323272705078125)
 * (GHC.Types.[],0.32965087890625)
 * (Examples.List,0.32965087890625)
 * (Examples.Number,0.331207275390625)
 * (Examples.String,0.331207275390625)
 * (Examples.Symbol,0.331207275390625)
 * (Examples.Text,0.66241455078125)
 * (GHC.Types.Int,0.331207275390625)

Optimizing the frequencies map:
*********************************************************************************************************************************************************************************************************************************************************************************

Optimized frequencies map:
 * (GHC.Types.:,19069)
 * (GHC.Types.[],1)
 * (Examples.List,298)
 * (Examples.Number,120)
 * (Examples.String,81)
 * (Examples.Symbol,81)
 * (Examples.Text,100)
 * (GHC.Types.Int,100)

Predicted distribution for the optimized frequencies map:
 * (GHC.Types.:,17.838586498464217)
 * (GHC.Types.[],7.0449940565497196)
 * (Examples.List,7.0449940565497196)
 * (Examples.Number,5.018549975282765)
 * (Examples.String,3.3875212333158666)
 * (Examples.Symbol,3.3875212333158666)
 * (Examples.Text,6.775042466631733)
 * (GHC.Types.Int,5.018549975282765)

Initial cost: 74.18030684152617
Final cost: 22.63873492147949
Optimization ratio: 3.2766984152963587

Deriving optimized generator...
Visiting:Examples.Lisp
Visiting:Examples.Text
Linking .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/examples/examples ...
dragen-0.1.0.0: copy/register
Installing library in /home/agustin/Source/git/dragen/.stack-work/install/x86_64-linux/lts-12.10/8.4.3/lib/x86_64-linux-ghc-8.4.3/dragen-0.1.0.0-CSeoa7Jrsit8oJxNYjP8cU
Registering library for dragen-0.1.0.0..
dragen-0.1.0.0: test (suite: examples)



Examples were compiled correctly!

dragen-0.1.0.0: Test suite examples passed
Completed 2 action(s).
